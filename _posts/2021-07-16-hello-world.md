---
layout: post
title: "New Site!"
categories: article
tags: blog
---

> Hello, world! Beep boop.
>
> This is my first post on my fresh new blog. The real introduction is [here](/about.html); in this post I will just be commenting on my old site.

<!--more-->

## My Old Website

Before this I had a pretty barebones personal site written in vanilla HTML and CSS. I say "vanilla" but then you see this:

![mostly-js]
*would you like a side of HTML with your JavaScript?*

Okay okay so I used Bootstrap, mostly on a friend's recomendation, and because of "responsiveness." I guess I didn't believe in CDNs either?

Believe it or not I had some custom JavaScript in there too. Well, JQuery. Same difference.

```javascript
$(window).scroll(function(){
    $(".scroll").css("opacity", (400-$(window).scrollTop()) /200);
});
```

Corresponding HTML:

```html
<div class="scroll">
    <svg version="1.1" width="40" height="15" xmlns="http://www.w3.org/2000/svg">
        <polygon points="0,0 34,0 17,15" style="fill:#F7C7C4;" />
    </svg>
    Scroll for projects
    <svg version="1.1" width="40" height="15" xmlns="http://www.w3.org/2000/svg">
        <polygon points="0,0 34,0 17,15" style="fill:#F7C7C4;" />
    </svg>
</div>
```

Those two handcrafted triangle SVGs will be missed.

Here's a snapshot of my old site.

![old-site-1]

The top of my site is a bland greeting, but hey the background was cool. It's just the pixelate>crystallize filter in Photoshop over an angle gradient.

{% include callout.html content="The author is about to go on a tangent just to demo LaTeX and footnotes on his site." icon="neutral" %}

## The Crystallize Filter

That got me thinking, how does the crystallize filter actually work? Until we get those Adobe leaks our best starting point probably has something to do with Voronoi diagrams. I found a decent intro [here](https://elrnv.com/blog/weighted-lloyds-method-for-voronoi-tesselation/). Considering a 2D diagram, define Voronoi sites as a set of $$n$$ random points: $$\mathcal{P} = \{\vec{x}_i\}_{i=1}^n$$, where $$\vec{x}_i \in \mathbb{R}^2$$. Define the Voronoi tessellation generated by $$\mathcal{P}$$ as the set of Voronoi regions $$\mathcal{V} = \{ V_i \}$$, where for each point $$i$$:

$$V_i = \left\{ \vec{x} \in \mathbb{R}^2 \mathrel{}:\mathrel{} \|\vec{x} - \vec{x}_i\| < \|\vec{x} - \vec{x}_j\|,\ \, \forall j\not=i \right\}.$$

Here's an example Voronoi diagram.[^1]

[^1]: Image credit: Wikipedia

![voronoi]
*Sites are the visible black dots. Regions are the colored polygons. Notice the uneven cell shapes."

Each region is a polygonal cell where all points inside are closer to its corresponding site than any other site. Unfortunately some of the cells can look stretched out so we want to make them more homogenous. We can use something called [Lloyd's algorithm][lloyd] to spread the sites out more evenly, and make the regions more uniform. Define the centroid of a Voronoi region as:

$$C_i = \frac{1}{A_i} \iint_{V_i} \vec{x}_i\, d\vec{x}$$

Where $$A_i$$ is the area of the region. The centroid is not necessarily the same as the site. The idea is to use the centroids as new sites for a new tesselation, and over time the centroid will get closer to the sites until convergence.[^2]

[^2]: Surprise k-means? Surprise k-means.

## Why I Switched to a Blog

![old-site-2]

The rest of my site showed off my projects on a grid of flippy panels with images on the front and short descriptions on the back. Two problems here:
- I couldn't find appropriate images most of the time. I ended up using silly stock photos.
- I had to compact the project description into a Tweet-length quip.

Flippy cards are cute but impractical. But why switch to a blog? Why not ditch the cards and use a bigger description box? I'll save it for a future post, but basically it was a natural outgrowth of my efforts to consolidate my knowledge. That and Jekyll is really nice. My two favorite things about Jekyll, in order:
1. Templates are encouraged. Even though it's a bit more complex (due to the blog aspect, not the templates), my new site feels more modular and less gross.
2. Thanks in part to templates, I can write posts exclusively in markdown, and I can focus more on the content. Even better for blogs, since blog posts are very template-able.

Demo checklist:
- [x] Blockquotes
- [x] Headers
- [x] Images
- [x] Captions
- [x] Code
- [x] Callouts (and emojis)
- [x] Footnotes
- [x] LaTeX
- [x] Unordered lists
- [x] Ordered lists
- [x] Checkboxes
- [ ] Unchecked checkboxes ðŸ¤¯

Alright, demo complete :D stay tuned for more. Hope I can keep this up.

[mostly-js]: /assets/images/mostly-js.png
[old-site-1]: /assets/images/old-site-1.png
[voronoi]: /assets/images/voronoi.png
[lloyd]: https://en.wikipedia.org/wiki/Lloyd%27s_algorithm
[old-site-2]: /assets/images/old-site-2.png